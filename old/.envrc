#!/usr/bin/env bash

# only continue if the user has the nix version of direnv
if has nix_direnv_version; then
  # we want to track changes here, and reload the environment
  # we choose these files because they are the ones that are most likely
  # to have made a change that required a shell reload
  watch_file flake/shell.nix
  watch_file flake/fmt.nix
  watch_file flake/hooks.nix

  # now we want to load the flake environment
  use flake
fi
